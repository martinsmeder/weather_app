(()=>{"use strict";var e={965:(e,t,n)=>{n.d(t,{c:()=>o,m:()=>r}),console.log("I get called from api.js!");const r={getWeatherByLocation:async e=>{try{const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=ce6acc34934c47f3916181423232305&q=${e}`,{mode:"cors"});if(t.ok){const e=await t.json(),n=await(e=>({city:e.location.name,localTime:e.location.localtime,weatherIcon:e.current.condition.icon,weather:e.current.condition.text,temperatureC:e.current.temp_c,temperatureF:e.current.temp_f,feelsLikeC:e.current.feelslike_c,feelsLikeF:e.current.feelslike_f,humidity:e.current.humidity,windSpeed:e.current.wind_kph,windDirection:e.current.wind_dir,visibility:e.current.vis_km,isDay:1===e.current.is_day}))(e);return n}throw new Error("Unable to fetch weather data.")}catch(e){throw console.error("An error occurred:",e.message),e}}},o={switchBackground:e=>{const{isDay:t,weather:n}=e;let r;return r=t?n.toLowerCase().includes("sun")?"images/sunny_day.jpg":n.toLowerCase().includes("cloud")?"images/cloudy_day.jpg":n.toLowerCase().includes("rain")?"images/rainy_day.jpg":n.toLowerCase().includes("snow")?"images/snowy_day.jpg":n.toLowerCase().includes("fog")?"images/foggy_day.jpg":"images/default_day.jpg":n.toLowerCase().includes("clear")?"images/clear_night.jpg":n.toLowerCase().includes("cloud")?"images/cloudy_night.jpg":n.toLowerCase().includes("rain")?"images/rainy_night.jpg":n.toLowerCase().includes("snow")?"images/snowy_night.jpg":n.toLowerCase().includes("fog")?"images/foggy_night.jpg":"images/default_night.jpg",console.log("Background URL:",r),r}};(async()=>{try{const e=await r.getWeatherByLocation("stockholm");console.log(e),o.switchBackground(e)}catch(e){console.error("Error occurred during weather retrieval:",e)}})()},24:(e,t,n)=>{var r=n(965);console.log("this seem to be working"),(()=>{const e=document.querySelector("#searchLocation"),t=document.querySelector("#searchBtn"),n=document.querySelector("#toggleBtn"),o=document.querySelector("#dataContainer");let c=null,i=!0,a=!0;const s=()=>{if(!c)return;const{city:e,localTime:t,weatherIcon:n,weather:r,temperatureC:s,temperatureF:d,feelsLikeC:l,feelsLikeF:u,humidity:m,windSpeed:p,windDirection:g,visibility:h}=c;for(;o.firstChild;)o.firstChild.remove();const y=document.createElement("h2");y.textContent=e,o.appendChild(y);const w=document.createElement("p"),C=t.split(" ")[1];w.textContent=C,o.appendChild(w);const f=document.createElement("img");f.src=n,f.alt=r,o.appendChild(f);const k=document.createElement("p");k.textContent=`Weather: ${r}`,o.appendChild(k);const L=document.createElement("p"),_=i?s:d;L.textContent=`Temperature: ${_}°${i?"C":"F"}`,o.appendChild(L);const v=document.createElement("p"),j=a?l:u;v.textContent=`Feels Like: ${j}°${i?"C":"F"}`,o.appendChild(v);const E=document.createElement("p");E.textContent=`Humidity: ${m}%`,o.appendChild(E);const x=document.createElement("p");x.textContent=`Wind Speed: ${p} km/h`,o.appendChild(x);const $=document.createElement("p");$.textContent=`Wind Direction: ${g}`,o.appendChild($);const b=document.createElement("p");b.textContent=`Visibility: ${h} km`,o.appendChild(b)},d=async t=>{t.preventDefault();const n=e.value;try{c=await r.m.getWeatherByLocation(n),s();const e=r.c.switchBackground(c);document.body.style.backgroundImage=`url(${e})`}catch(e){console.error("Error occurred during weather retrieval:",e)}};return{init:()=>{t.addEventListener("click",d),e.addEventListener("keydown",(e=>{13===e.keyCode&&d(e)})),n.addEventListener("click",(()=>{i=!i,a=!a,s(),n.textContent=i?"Celsius":"Fahrenheit"}))},renderData:s}})().init()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(965),n(24)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEIsRUFBcUIscUJBQXVCbkMsR0FDbERFLFNBQVNrQyxLQUFLQyxNQUFNQyxnQkFBa0IsT0FBT0gsSUFDL0MsQ0FBRSxNQUFPMUMsR0FDUDFDLFFBQVEwQyxNQUFNLDJDQUE0Q0EsRUFDNUQsR0FtQkYsTUFBTyxDQUNMOEMsS0FqQlcsS0FDWG5DLEVBQWFvQyxpQkFBaUIsUUFBU1QsR0FDdkM5QixFQUFZdUMsaUJBQWlCLFdBQVlSLElBQ2pCLEtBQWxCQSxFQUFNUyxTQUNSVixFQUFhQyxFQUNmLElBR0YzQixFQUFhbUMsaUJBQWlCLFNBQVMsS0FDckNqQyxHQUFrQkEsRUFDbEJDLEdBQXVCQSxFQUN2QkMsSUFDQUosRUFBYVMsWUFBY1AsRUFBaUIsVUFBWSxZQUFZLEdBQ3BFLEVBS0ZFLGFBRUgsRUFySGdCLEdBdUhSOEIsTSxHQzNITEcsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENDckJBSixFQUFvQk8sRUFBSSxDQUFDSCxFQUFTSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRU4sRUFBU0ssSUFDNUVFLE9BQU9DLGVBQWVSLEVBQVNLLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxJQUUxRSxFQ05EVCxFQUFvQlUsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0dsRmhCLEVBQW9CLEtBQ01BLEVBQW9CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWF0aGVyX2FwcC8uL3NyYy9hcGkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcl9hcHAvLi9zcmMvaW50ZXJmYWNlLmpzIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWF0aGVyX2FwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZyhcIkkgZ2V0IGNhbGxlZCBmcm9tIGFwaS5qcyFcIik7XG5cbmV4cG9ydCBjb25zdCBIaXRBUEkgPSAoKCkgPT4ge1xuICBjb25zdCBwcm9jZXNzRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgcHJvY2Vzc2VkRGF0YSA9IHtcbiAgICAgIC8vIGFsbERhdGE6IGRhdGEsXG4gICAgICBjaXR5OiBkYXRhLmxvY2F0aW9uLm5hbWUsXG4gICAgICBsb2NhbFRpbWU6IGRhdGEubG9jYXRpb24ubG9jYWx0aW1lLFxuICAgICAgd2VhdGhlckljb246IGRhdGEuY3VycmVudC5jb25kaXRpb24uaWNvbixcbiAgICAgIHdlYXRoZXI6IGRhdGEuY3VycmVudC5jb25kaXRpb24udGV4dCxcbiAgICAgIHRlbXBlcmF0dXJlQzogZGF0YS5jdXJyZW50LnRlbXBfYyxcbiAgICAgIHRlbXBlcmF0dXJlRjogZGF0YS5jdXJyZW50LnRlbXBfZixcbiAgICAgIGZlZWxzTGlrZUM6IGRhdGEuY3VycmVudC5mZWVsc2xpa2VfYyxcbiAgICAgIGZlZWxzTGlrZUY6IGRhdGEuY3VycmVudC5mZWVsc2xpa2VfZixcbiAgICAgIGh1bWlkaXR5OiBkYXRhLmN1cnJlbnQuaHVtaWRpdHksXG4gICAgICB3aW5kU3BlZWQ6IGRhdGEuY3VycmVudC53aW5kX2twaCxcbiAgICAgIHdpbmREaXJlY3Rpb246IGRhdGEuY3VycmVudC53aW5kX2RpcixcbiAgICAgIHZpc2liaWxpdHk6IGRhdGEuY3VycmVudC52aXNfa20sXG4gICAgICBpc0RheTogZGF0YS5jdXJyZW50LmlzX2RheSA9PT0gMSxcbiAgICB9O1xuICAgIHJldHVybiBwcm9jZXNzZWREYXRhO1xuICB9O1xuXG4gIGNvbnN0IGdldFdlYXRoZXJCeUxvY2F0aW9uID0gYXN5bmMgKGxvY2F0aW9uKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwczovL2FwaS53ZWF0aGVyYXBpLmNvbS92MS9jdXJyZW50Lmpzb24/a2V5PWNlNmFjYzM0OTM0YzQ3ZjM5MTYxODE0MjMyMzIzMDUmcT0ke2xvY2F0aW9ufWAsXG4gICAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZldGNoIHdlYXRoZXIgZGF0YS5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBmaW5hbERhdGEgPSBhd2FpdCBwcm9jZXNzRGF0YShkYXRhKTtcbiAgICAgICAgcmV0dXJuIGZpbmFsRGF0YTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFuIGVycm9yIG9jY3VycmVkOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFdlYXRoZXJCeUxvY2F0aW9uLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IFV0aWxzID0gKCgpID0+IHtcbiAgY29uc3Qgc3dpdGNoQmFja2dyb3VuZCA9IChmaW5hbERhdGEpID0+IHtcbiAgICBjb25zdCB7IGlzRGF5LCB3ZWF0aGVyIH0gPSBmaW5hbERhdGE7XG4gICAgbGV0IGJhY2tncm91bmRVcmw7XG5cbiAgICBpZiAoaXNEYXkpIHtcbiAgICAgIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJzdW5cIikpIHtcbiAgICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL3N1bm55X2RheS5qcGdcIjtcbiAgICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY2xvdWRcIikpIHtcbiAgICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL2Nsb3VkeV9kYXkuanBnXCI7XG4gICAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInJhaW5cIikpIHtcbiAgICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL3JhaW55X2RheS5qcGdcIjtcbiAgICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic25vd1wiKSkge1xuICAgICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvc25vd3lfZGF5LmpwZ1wiO1xuICAgICAgfSBlbHNlIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJmb2dcIikpIHtcbiAgICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL2ZvZ2d5X2RheS5qcGdcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9kZWZhdWx0X2RheS5qcGdcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNsZWFyXCIpKSB7XG4gICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvY2xlYXJfbmlnaHQuanBnXCI7XG4gICAgfSBlbHNlIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJjbG91ZFwiKSkge1xuICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL2Nsb3VkeV9uaWdodC5qcGdcIjtcbiAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInJhaW5cIikpIHtcbiAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9yYWlueV9uaWdodC5qcGdcIjtcbiAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInNub3dcIikpIHtcbiAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9zbm93eV9uaWdodC5qcGdcIjtcbiAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImZvZ1wiKSkge1xuICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL2ZvZ2d5X25pZ2h0LmpwZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvZGVmYXVsdF9uaWdodC5qcGdcIjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJCYWNrZ3JvdW5kIFVSTDpcIiwgYmFja2dyb3VuZFVybCk7XG4gICAgcmV0dXJuIGJhY2tncm91bmRVcmw7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzd2l0Y2hCYWNrZ3JvdW5kLFxuICB9O1xufSkoKTtcblxuLy8gVXNhZ2Ugd2l0aCBlcnJvciBoYW5kbGluZ1xuKGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3ZWF0aGVyRGF0YSA9IGF3YWl0IEhpdEFQSS5nZXRXZWF0aGVyQnlMb2NhdGlvbihcInN0b2NraG9sbVwiKTtcbiAgICBjb25zb2xlLmxvZyh3ZWF0aGVyRGF0YSk7XG4gICAgVXRpbHMuc3dpdGNoQmFja2dyb3VuZCh3ZWF0aGVyRGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIG9jY3VycmVkIGR1cmluZyB3ZWF0aGVyIHJldHJpZXZhbDpcIiwgZXJyb3IpO1xuICB9XG59KSgpO1xuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHRlbnNpb25zLCBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHsgSGl0QVBJLCBVdGlscyB9IGZyb20gXCIuL2FwaS5qc1wiO1xuXG5jb25zb2xlLmxvZyhcInRoaXMgc2VlbSB0byBiZSB3b3JraW5nXCIpO1xuXG5jb25zdCBET01TdHVmZiA9ICgoKSA9PiB7XG4gIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWFyY2hMb2NhdGlvblwiKTtcbiAgY29uc3Qgc2VhcmNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWFyY2hCdG5cIik7XG4gIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG9nZ2xlQnRuXCIpO1xuICBjb25zdCBkYXRhQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXRhQ29udGFpbmVyXCIpO1xuXG4gIGxldCB3ZWF0aGVyRGF0YSA9IG51bGw7XG4gIGxldCB1c2VDZWxzaXVzVGVtcCA9IHRydWU7XG4gIGxldCB1c2VDZWxzaXVzRmVlbHNMaWtlID0gdHJ1ZTtcblxuICBjb25zdCByZW5kZXJEYXRhID0gKCkgPT4ge1xuICAgIGlmICghd2VhdGhlckRhdGEpIHtcbiAgICAgIHJldHVybjsgLy8gRXhpdCBpZiB3ZWF0aGVyRGF0YSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGNpdHksXG4gICAgICBsb2NhbFRpbWUsXG4gICAgICB3ZWF0aGVySWNvbixcbiAgICAgIHdlYXRoZXIsXG4gICAgICB0ZW1wZXJhdHVyZUMsXG4gICAgICB0ZW1wZXJhdHVyZUYsXG4gICAgICBmZWVsc0xpa2VDLFxuICAgICAgZmVlbHNMaWtlRixcbiAgICAgIGh1bWlkaXR5LFxuICAgICAgd2luZFNwZWVkLFxuICAgICAgd2luZERpcmVjdGlvbixcbiAgICAgIHZpc2liaWxpdHksXG4gICAgfSA9IHdlYXRoZXJEYXRhO1xuXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgY29udGVudFxuICAgIHdoaWxlIChkYXRhQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGRhdGFDb250YWluZXIuZmlyc3RDaGlsZC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgIGhlYWRpbmcudGV4dENvbnRlbnQgPSBjaXR5O1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG5cbiAgICBjb25zdCBsb2NhbFRpbWVQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgY29uc3QgdGltZSA9IGxvY2FsVGltZS5zcGxpdChcIiBcIilbMV07IC8vIEV4dHJhY3QgdGhlIHRpbWUgcG9ydGlvblxuICAgIGxvY2FsVGltZVBhcmEudGV4dENvbnRlbnQgPSB0aW1lO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQobG9jYWxUaW1lUGFyYSk7XG5cbiAgICBjb25zdCB3ZWF0aGVySWNvbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgd2VhdGhlckljb25JbWcuc3JjID0gd2VhdGhlckljb247XG4gICAgd2VhdGhlckljb25JbWcuYWx0ID0gd2VhdGhlcjtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKHdlYXRoZXJJY29uSW1nKTtcblxuICAgIGNvbnN0IHdlYXRoZXJQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgd2VhdGhlclBhcmEudGV4dENvbnRlbnQgPSBgV2VhdGhlcjogJHt3ZWF0aGVyfWA7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZCh3ZWF0aGVyUGFyYSk7XG5cbiAgICBjb25zdCB0ZW1wZXJhdHVyZVBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjb25zdCB0ZW1wZXJhdHVyZVZhbHVlID0gdXNlQ2Vsc2l1c1RlbXAgPyB0ZW1wZXJhdHVyZUMgOiB0ZW1wZXJhdHVyZUY7XG4gICAgdGVtcGVyYXR1cmVQYXJhLnRleHRDb250ZW50ID0gYFRlbXBlcmF0dXJlOiAke3RlbXBlcmF0dXJlVmFsdWV9wrAke1xuICAgICAgdXNlQ2Vsc2l1c1RlbXAgPyBcIkNcIiA6IFwiRlwiXG4gICAgfWA7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0ZW1wZXJhdHVyZVBhcmEpO1xuXG4gICAgY29uc3QgZmVlbHNMaWtlUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGNvbnN0IGZlZWxzTGlrZVZhbHVlID0gdXNlQ2Vsc2l1c0ZlZWxzTGlrZSA/IGZlZWxzTGlrZUMgOiBmZWVsc0xpa2VGO1xuICAgIGZlZWxzTGlrZVBhcmEudGV4dENvbnRlbnQgPSBgRmVlbHMgTGlrZTogJHtmZWVsc0xpa2VWYWx1ZX3CsCR7XG4gICAgICB1c2VDZWxzaXVzVGVtcCA/IFwiQ1wiIDogXCJGXCJcbiAgICB9YDtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKGZlZWxzTGlrZVBhcmEpO1xuXG4gICAgY29uc3QgaHVtaWRpdHlQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgaHVtaWRpdHlQYXJhLnRleHRDb250ZW50ID0gYEh1bWlkaXR5OiAke2h1bWlkaXR5fSVgO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQoaHVtaWRpdHlQYXJhKTtcblxuICAgIGNvbnN0IHdpbmRTcGVlZFBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICB3aW5kU3BlZWRQYXJhLnRleHRDb250ZW50ID0gYFdpbmQgU3BlZWQ6ICR7d2luZFNwZWVkfSBrbS9oYDtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKHdpbmRTcGVlZFBhcmEpO1xuXG4gICAgY29uc3Qgd2luZERpcmVjdGlvblBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICB3aW5kRGlyZWN0aW9uUGFyYS50ZXh0Q29udGVudCA9IGBXaW5kIERpcmVjdGlvbjogJHt3aW5kRGlyZWN0aW9ufWA7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZCh3aW5kRGlyZWN0aW9uUGFyYSk7XG5cbiAgICBjb25zdCB2aXNpYmlsaXR5UGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHZpc2liaWxpdHlQYXJhLnRleHRDb250ZW50ID0gYFZpc2liaWxpdHk6ICR7dmlzaWJpbGl0eX0ga21gO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQodmlzaWJpbGl0eVBhcmEpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbG9jYXRpb24gPSBzZWFyY2hJbnB1dC52YWx1ZTtcbiAgICB0cnkge1xuICAgICAgd2VhdGhlckRhdGEgPSBhd2FpdCBIaXRBUEkuZ2V0V2VhdGhlckJ5TG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgcmVuZGVyRGF0YSh0cnVlKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVVybCA9IFV0aWxzLnN3aXRjaEJhY2tncm91bmQod2VhdGhlckRhdGEpO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YmFja2dyb3VuZEltYWdlVXJsfSlgO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIHdlYXRoZXIgcmV0cmlldmFsOlwiLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVTZWFyY2gpO1xuICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIGhhbmRsZVNlYXJjaChldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0b2dnbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHVzZUNlbHNpdXNUZW1wID0gIXVzZUNlbHNpdXNUZW1wO1xuICAgICAgdXNlQ2Vsc2l1c0ZlZWxzTGlrZSA9ICF1c2VDZWxzaXVzRmVlbHNMaWtlO1xuICAgICAgcmVuZGVyRGF0YSgpO1xuICAgICAgdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gdXNlQ2Vsc2l1c1RlbXAgPyBcIkNlbHNpdXNcIiA6IFwiRmFocmVuaGVpdFwiO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgICByZW5kZXJEYXRhLFxuICB9O1xufSkoKTtcblxuRE9NU3R1ZmYuaW5pdCgpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDk2NSk7XG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJIaXRBUEkiLCJnZXRXZWF0aGVyQnlMb2NhdGlvbiIsImFzeW5jIiwibG9jYXRpb24iLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsIm9rIiwiZGF0YSIsImpzb24iLCJmaW5hbERhdGEiLCJjaXR5IiwibmFtZSIsImxvY2FsVGltZSIsImxvY2FsdGltZSIsIndlYXRoZXJJY29uIiwiY3VycmVudCIsImNvbmRpdGlvbiIsImljb24iLCJ3ZWF0aGVyIiwidGV4dCIsInRlbXBlcmF0dXJlQyIsInRlbXBfYyIsInRlbXBlcmF0dXJlRiIsInRlbXBfZiIsImZlZWxzTGlrZUMiLCJmZWVsc2xpa2VfYyIsImZlZWxzTGlrZUYiLCJmZWVsc2xpa2VfZiIsImh1bWlkaXR5Iiwid2luZFNwZWVkIiwid2luZF9rcGgiLCJ3aW5kRGlyZWN0aW9uIiwid2luZF9kaXIiLCJ2aXNpYmlsaXR5IiwidmlzX2ttIiwiaXNEYXkiLCJpc19kYXkiLCJwcm9jZXNzRGF0YSIsIkVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiVXRpbHMiLCJzd2l0Y2hCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZFVybCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJ3ZWF0aGVyRGF0YSIsInNlYXJjaElucHV0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoQnV0dG9uIiwidG9nZ2xlQnV0dG9uIiwiZGF0YUNvbnRhaW5lciIsInVzZUNlbHNpdXNUZW1wIiwidXNlQ2Vsc2l1c0ZlZWxzTGlrZSIsInJlbmRlckRhdGEiLCJmaXJzdENoaWxkIiwicmVtb3ZlIiwiaGVhZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwibG9jYWxUaW1lUGFyYSIsInRpbWUiLCJzcGxpdCIsIndlYXRoZXJJY29uSW1nIiwic3JjIiwiYWx0Iiwid2VhdGhlclBhcmEiLCJ0ZW1wZXJhdHVyZVBhcmEiLCJ0ZW1wZXJhdHVyZVZhbHVlIiwiZmVlbHNMaWtlUGFyYSIsImZlZWxzTGlrZVZhbHVlIiwiaHVtaWRpdHlQYXJhIiwid2luZFNwZWVkUGFyYSIsIndpbmREaXJlY3Rpb25QYXJhIiwidmlzaWJpbGl0eVBhcmEiLCJoYW5kbGVTZWFyY2giLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJiYWNrZ3JvdW5kSW1hZ2VVcmwiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImtleUNvZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9