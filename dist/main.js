(()=>{"use strict";var e={467:(e,t,n)=>{n.d(t,{B9:()=>o,QE:()=>r,cQ:()=>c}),console.log("this seem to be working (appLogic.js)");const r={getWeatherByLocation:async e=>{try{const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=ce6acc34934c47f3916181423232305&q=${e}`,{mode:"cors"});if(t.ok){const e=await t.json(),n=await(e=>({city:e.location.name,localTime:e.location.localtime,weatherIcon:e.current.condition.icon,weather:e.current.condition.text,temperatureC:e.current.temp_c,temperatureF:e.current.temp_f,feelsLikeC:e.current.feelslike_c,feelsLikeF:e.current.feelslike_f,humidity:e.current.humidity,windSpeed:e.current.wind_kph,windDirection:e.current.wind_dir,visibility:e.current.vis_km,isDay:1===e.current.is_day}))(e);return n}throw new Error("Unable to fetch weather data.")}catch(e){throw console.error("An error occurred:",e.message),e}}},o={getGifById:async e=>{const t=`https://api.giphy.com/v1/gifs/${e}?api_key=8ewGe5vteIERFUPE6ZbcFuqh7mCIUIzY`;try{const e=await fetch(t,{mode:"cors"});if(e.ok){return(await e.json()).data.images.original.url}throw new Error("Unable to fetch GIF data.")}catch(e){throw console.error("An error occurred:",e.message),e}}},c={switchBackground:e=>{const{isDay:t,weather:n}=e;let r;return r=t?n.toLowerCase().includes("sun")?"images/sunny_day.jpg":n.toLowerCase().includes("cloud")?"images/cloudy_day.jpg":n.toLowerCase().includes("rain")?"images/rainy_day.jpg":n.toLowerCase().includes("snow")?"images/snowy_day.jpg":n.toLowerCase().includes("fog")?"images/foggy_day.jpg":"images/default_day.jpg":n.toLowerCase().includes("clear")?"images/clear_night.jpg":n.toLowerCase().includes("cloud")?"images/cloudy_night.jpg":n.toLowerCase().includes("rain")?"images/rainy_night.jpg":n.toLowerCase().includes("snow")?"images/snowy_night.jpg":n.toLowerCase().includes("fog")?"images/foggy_night.jpg":"images/default_night.jpg",r},setGifId:e=>{const{isDay:t,weather:n}=e;let r;return r=t?n.toLowerCase().includes("sun")?"3cB7aOM6347PW":n.toLowerCase().includes("cloud")?"l0HlQdk8kI9KIOjBe":n.toLowerCase().includes("rain")?"0opZPb9yugNFEd3kFQ":n.toLowerCase().includes("snow")?"9jvjuSSkMOYTyQfJji":n.toLowerCase().includes("fog")?"4CNT8NqboKa2UGpzhW":"fGs29ohKkNKwV4xxKW":"fGs29ohKkNKwV4xxKW",r}}},24:(e,t,n)=>{var r=n(467);console.log("this seem to be working (interface.js)"),(()=>{const e=document.querySelector("#searchLocation"),t=document.querySelector("#searchBtn"),n=document.querySelector("#toggleBtn"),o=document.querySelector("#dataContainer"),c=document.querySelector("#weatherGif");let i=null,a=!0,s=!0;const d=()=>{if(!i)return;const{city:e,localTime:t,weatherIcon:n,weather:r,temperatureC:c,temperatureF:d,feelsLikeC:l,feelsLikeF:u,humidity:m,windSpeed:p,windDirection:g,visibility:h}=i;for(;o.firstChild;)o.firstChild.remove();const w=document.createElement("h2");w.textContent=e,o.appendChild(w);const y=document.createElement("p"),C=t.split(" ")[1];y.textContent=C,o.appendChild(y);const f=document.createElement("img");f.src=n,f.alt=r,o.appendChild(f);const k=document.createElement("p");k.textContent=`Weather: ${r}`,o.appendChild(k);const L=document.createElement("p"),j=a?c:d;L.textContent=`Temperature: ${j}°${a?"C":"F"}`,o.appendChild(L);const E=document.createElement("p"),v=s?l:u;E.textContent=`Feels Like: ${v}°${a?"C":"F"}`,o.appendChild(E);const _=document.createElement("p");_.textContent=`Humidity: ${m}%`,o.appendChild(_);const x=document.createElement("p");x.textContent=`Wind Speed: ${p} km/h`,o.appendChild(x);const b=document.createElement("p");b.textContent=`Wind Direction: ${g}`,o.appendChild(b);const B=document.createElement("p");B.textContent=`Visibility: ${h} km`,o.appendChild(B)},l=async t=>{t.preventDefault();const n=e.value;try{i=await r.QE.getWeatherByLocation(n),d();const e=r.cQ.switchBackground(i);document.body.style.backgroundImage=`url(${e})`;const t=await r.cQ.setGifId(i),o=await r.B9.getGifById(t);c.src=o}catch(e){console.error("Error occurred during weather retrieval:",e)}};return{renderData:d,init:()=>{t.addEventListener("click",l),e.addEventListener("keydown",(e=>{13===e.keyCode&&l(e)})),n.addEventListener("click",(()=>{a=!a,s=!s,d(),n.textContent=a?"Celsius":"Fahrenheit"})),(async()=>{try{i=await r.QE.getWeatherByLocation("new york"),d();const e=r.cQ.switchBackground(i);document.body.style.backgroundImage=`url(${e})`;const t=await r.cQ.setGifId(i),n=await r.B9.getGifById(t);c.src=n}catch(e){console.error("Error occurred during weather retrieval:",e)}})()}}})().init()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(467),n(24)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU05QyxRQUFjLGNBQWVpQixHQUM3QmlDLFFBQWUsZ0JBQW9CbEQsR0FDekNnQixFQUFXZSxJQUFNbUIsQ0FDbkIsQ0FBRSxNQUFPdEQsR0FDUDFDLFFBQVEwQyxNQUFNLDJDQUE0Q0EsRUFDNUQsR0FrQkEwRCxFQUFnQixFQU9uQixFQTdJZ0IsR0ErSVJILE0sR0NuSkxJLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosRUFBb0JPLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUixFQUFvQlUsRUFBRUYsRUFBWUMsS0FBU1QsRUFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NHbEZoQixFQUFvQixLQUNNQSxFQUFvQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VhdGhlcl9hcHAvLi9zcmMvYXBwTG9naWMuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcl9hcHAvLi9zcmMvaW50ZXJmYWNlLmpzIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWF0aGVyX2FwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYXRoZXJfYXBwL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZyhcInRoaXMgc2VlbSB0byBiZSB3b3JraW5nIChhcHBMb2dpYy5qcylcIik7XG5cbmV4cG9ydCBjb25zdCBXZWF0aGVyQVBJID0gKCgpID0+IHtcbiAgY29uc3QgcHJvY2Vzc0RhdGEgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHByb2Nlc3NlZERhdGEgPSB7XG4gICAgICAvLyBhbGxEYXRhOiBkYXRhLFxuICAgICAgY2l0eTogZGF0YS5sb2NhdGlvbi5uYW1lLFxuICAgICAgbG9jYWxUaW1lOiBkYXRhLmxvY2F0aW9uLmxvY2FsdGltZSxcbiAgICAgIHdlYXRoZXJJY29uOiBkYXRhLmN1cnJlbnQuY29uZGl0aW9uLmljb24sXG4gICAgICB3ZWF0aGVyOiBkYXRhLmN1cnJlbnQuY29uZGl0aW9uLnRleHQsXG4gICAgICB0ZW1wZXJhdHVyZUM6IGRhdGEuY3VycmVudC50ZW1wX2MsXG4gICAgICB0ZW1wZXJhdHVyZUY6IGRhdGEuY3VycmVudC50ZW1wX2YsXG4gICAgICBmZWVsc0xpa2VDOiBkYXRhLmN1cnJlbnQuZmVlbHNsaWtlX2MsXG4gICAgICBmZWVsc0xpa2VGOiBkYXRhLmN1cnJlbnQuZmVlbHNsaWtlX2YsXG4gICAgICBodW1pZGl0eTogZGF0YS5jdXJyZW50Lmh1bWlkaXR5LFxuICAgICAgd2luZFNwZWVkOiBkYXRhLmN1cnJlbnQud2luZF9rcGgsXG4gICAgICB3aW5kRGlyZWN0aW9uOiBkYXRhLmN1cnJlbnQud2luZF9kaXIsXG4gICAgICB2aXNpYmlsaXR5OiBkYXRhLmN1cnJlbnQudmlzX2ttLFxuICAgICAgaXNEYXk6IGRhdGEuY3VycmVudC5pc19kYXkgPT09IDEsXG4gICAgfTtcbiAgICByZXR1cm4gcHJvY2Vzc2VkRGF0YTtcbiAgfTtcblxuICBjb25zdCBnZXRXZWF0aGVyQnlMb2NhdGlvbiA9IGFzeW5jIChsb2NhdGlvbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvY3VycmVudC5qc29uP2tleT1jZTZhY2MzNDkzNGM0N2YzOTE2MTgxNDIzMjMyMzA1JnE9JHtsb2NhdGlvbn1gLFxuICAgICAgICB7IG1vZGU6IFwiY29yc1wiIH1cbiAgICAgICk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmZXRjaCB3ZWF0aGVyIGRhdGEuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgZmluYWxEYXRhID0gYXdhaXQgcHJvY2Vzc0RhdGEoZGF0YSk7XG4gICAgICAgIHJldHVybiBmaW5hbERhdGE7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZDpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRXZWF0aGVyQnlMb2NhdGlvbixcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBHaXBoeUFQSSA9ICgoKSA9PiB7XG4gIGNvbnN0IHByb2Nlc3NHaWZEYXRhID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCBnaWZVcmwgPSBkYXRhLmRhdGEuaW1hZ2VzLm9yaWdpbmFsLnVybDtcbiAgICByZXR1cm4gZ2lmVXJsO1xuICB9O1xuXG4gIGNvbnN0IGdldEdpZkJ5SWQgPSBhc3luYyAoZ2lmSWQpID0+IHtcbiAgICBjb25zdCBhcGlLZXkgPSBcIjhld0dlNXZ0ZUlFUkZVUEU2WmJjRnVxaDdtQ0lVSXpZXCI7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLmdpcGh5LmNvbS92MS9naWZzLyR7Z2lmSWR9P2FwaV9rZXk9JHthcGlLZXl9YDtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgeyBtb2RlOiBcImNvcnNcIiB9KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZldGNoIEdJRiBkYXRhLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGdpZlVybCA9IHByb2Nlc3NHaWZEYXRhKGRhdGEpO1xuICAgICAgICByZXR1cm4gZ2lmVXJsO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQ6XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGdldEdpZkJ5SWQsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgY29uc3QgVXRpbHMgPSAoKCkgPT4ge1xuICBjb25zdCBzd2l0Y2hCYWNrZ3JvdW5kID0gKGZpbmFsRGF0YSkgPT4ge1xuICAgIGNvbnN0IHsgaXNEYXksIHdlYXRoZXIgfSA9IGZpbmFsRGF0YTtcbiAgICBsZXQgYmFja2dyb3VuZFVybDtcblxuICAgIGlmIChpc0RheSkge1xuICAgICAgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInN1blwiKSkge1xuICAgICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvc3VubnlfZGF5LmpwZ1wiO1xuICAgICAgfSBlbHNlIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJjbG91ZFwiKSkge1xuICAgICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvY2xvdWR5X2RheS5qcGdcIjtcbiAgICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicmFpblwiKSkge1xuICAgICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvcmFpbnlfZGF5LmpwZ1wiO1xuICAgICAgfSBlbHNlIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJzbm93XCIpKSB7XG4gICAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9zbm93eV9kYXkuanBnXCI7XG4gICAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImZvZ1wiKSkge1xuICAgICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvZm9nZ3lfZGF5LmpwZ1wiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL2RlZmF1bHRfZGF5LmpwZ1wiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiY2xlYXJcIikpIHtcbiAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9jbGVhcl9uaWdodC5qcGdcIjtcbiAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNsb3VkXCIpKSB7XG4gICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvY2xvdWR5X25pZ2h0LmpwZ1wiO1xuICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicmFpblwiKSkge1xuICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL3JhaW55X25pZ2h0LmpwZ1wiO1xuICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic25vd1wiKSkge1xuICAgICAgYmFja2dyb3VuZFVybCA9IFwiaW1hZ2VzL3Nub3d5X25pZ2h0LmpwZ1wiO1xuICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZm9nXCIpKSB7XG4gICAgICBiYWNrZ3JvdW5kVXJsID0gXCJpbWFnZXMvZm9nZ3lfbmlnaHQuanBnXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhY2tncm91bmRVcmwgPSBcImltYWdlcy9kZWZhdWx0X25pZ2h0LmpwZ1wiO1xuICAgIH1cbiAgICByZXR1cm4gYmFja2dyb3VuZFVybDtcbiAgfTtcblxuICBjb25zdCBzZXRHaWZJZCA9IChmaW5hbERhdGEpID0+IHtcbiAgICBjb25zdCB7IGlzRGF5LCB3ZWF0aGVyIH0gPSBmaW5hbERhdGE7XG4gICAgbGV0IGdpZklkO1xuXG4gICAgaWYgKGlzRGF5KSB7XG4gICAgICBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic3VuXCIpKSB7XG4gICAgICAgIGdpZklkID0gXCIzY0I3YU9NNjM0N1BXXCI7XG4gICAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNsb3VkXCIpKSB7XG4gICAgICAgIGdpZklkID0gXCJsMEhsUWRrOGtJOUtJT2pCZVwiO1xuICAgICAgfSBlbHNlIGlmICh3ZWF0aGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJyYWluXCIpKSB7XG4gICAgICAgIGdpZklkID0gXCIwb3BaUGI5eXVnTkZFZDNrRlFcIjtcbiAgICAgIH0gZWxzZSBpZiAod2VhdGhlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic25vd1wiKSkge1xuICAgICAgICBnaWZJZCA9IFwiOWp2anVTU2tNT1lUeVFmSmppXCI7XG4gICAgICB9IGVsc2UgaWYgKHdlYXRoZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImZvZ1wiKSkge1xuICAgICAgICBnaWZJZCA9IFwiNENOVDhOcWJvS2EyVUdwemhXXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnaWZJZCA9IFwiZkdzMjlvaEtrTkt3VjR4eEtXXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGdpZklkID0gXCJmR3MyOW9oS2tOS3dWNHh4S1dcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2lmSWQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzd2l0Y2hCYWNrZ3JvdW5kLFxuICAgIHNldEdpZklkLFxuICB9O1xufSkoKTtcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvZXh0ZW5zaW9ucywgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7IFdlYXRoZXJBUEksIEdpcGh5QVBJLCBVdGlscyB9IGZyb20gXCIuL2FwcExvZ2ljLmpzXCI7XG5cbmNvbnNvbGUubG9nKFwidGhpcyBzZWVtIHRvIGJlIHdvcmtpbmcgKGludGVyZmFjZS5qcylcIik7XG5cbmNvbnN0IERPTVN0dWZmID0gKCgpID0+IHtcbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaExvY2F0aW9uXCIpO1xuICBjb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaEJ0blwiKTtcbiAgY29uc3QgdG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2dnbGVCdG5cIik7XG4gIGNvbnN0IGRhdGFDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RhdGFDb250YWluZXJcIik7XG4gIGNvbnN0IHdlYXRoZXJHaWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dlYXRoZXJHaWZcIik7XG5cbiAgbGV0IHdlYXRoZXJEYXRhID0gbnVsbDtcbiAgbGV0IHVzZUNlbHNpdXNUZW1wID0gdHJ1ZTtcbiAgbGV0IHVzZUNlbHNpdXNGZWVsc0xpa2UgPSB0cnVlO1xuXG4gIGNvbnN0IHJlbmRlckRhdGEgPSAoKSA9PiB7XG4gICAgaWYgKCF3ZWF0aGVyRGF0YSkge1xuICAgICAgcmV0dXJuOyAvLyBFeGl0IGlmIHdlYXRoZXJEYXRhIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgY2l0eSxcbiAgICAgIGxvY2FsVGltZSxcbiAgICAgIHdlYXRoZXJJY29uLFxuICAgICAgd2VhdGhlcixcbiAgICAgIHRlbXBlcmF0dXJlQyxcbiAgICAgIHRlbXBlcmF0dXJlRixcbiAgICAgIGZlZWxzTGlrZUMsXG4gICAgICBmZWVsc0xpa2VGLFxuICAgICAgaHVtaWRpdHksXG4gICAgICB3aW5kU3BlZWQsXG4gICAgICB3aW5kRGlyZWN0aW9uLFxuICAgICAgdmlzaWJpbGl0eSxcbiAgICB9ID0gd2VhdGhlckRhdGE7XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBjb250ZW50XG4gICAgd2hpbGUgKGRhdGFDb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgZGF0YUNvbnRhaW5lci5maXJzdENoaWxkLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgaGVhZGluZy50ZXh0Q29udGVudCA9IGNpdHk7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkaW5nKTtcblxuICAgIGNvbnN0IGxvY2FsVGltZVBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBjb25zdCB0aW1lID0gbG9jYWxUaW1lLnNwbGl0KFwiIFwiKVsxXTsgLy8gRXh0cmFjdCB0aGUgdGltZSBwb3J0aW9uXG4gICAgbG9jYWxUaW1lUGFyYS50ZXh0Q29udGVudCA9IHRpbWU7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZChsb2NhbFRpbWVQYXJhKTtcblxuICAgIGNvbnN0IHdlYXRoZXJJY29uSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICB3ZWF0aGVySWNvbkltZy5zcmMgPSB3ZWF0aGVySWNvbjtcbiAgICB3ZWF0aGVySWNvbkltZy5hbHQgPSB3ZWF0aGVyO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQod2VhdGhlckljb25JbWcpO1xuXG4gICAgY29uc3Qgd2VhdGhlclBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICB3ZWF0aGVyUGFyYS50ZXh0Q29udGVudCA9IGBXZWF0aGVyOiAke3dlYXRoZXJ9YDtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKHdlYXRoZXJQYXJhKTtcblxuICAgIGNvbnN0IHRlbXBlcmF0dXJlUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGNvbnN0IHRlbXBlcmF0dXJlVmFsdWUgPSB1c2VDZWxzaXVzVGVtcCA/IHRlbXBlcmF0dXJlQyA6IHRlbXBlcmF0dXJlRjtcbiAgICB0ZW1wZXJhdHVyZVBhcmEudGV4dENvbnRlbnQgPSBgVGVtcGVyYXR1cmU6ICR7dGVtcGVyYXR1cmVWYWx1ZX3CsCR7XG4gICAgICB1c2VDZWxzaXVzVGVtcCA/IFwiQ1wiIDogXCJGXCJcbiAgICB9YDtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKHRlbXBlcmF0dXJlUGFyYSk7XG5cbiAgICBjb25zdCBmZWVsc0xpa2VQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgY29uc3QgZmVlbHNMaWtlVmFsdWUgPSB1c2VDZWxzaXVzRmVlbHNMaWtlID8gZmVlbHNMaWtlQyA6IGZlZWxzTGlrZUY7XG4gICAgZmVlbHNMaWtlUGFyYS50ZXh0Q29udGVudCA9IGBGZWVscyBMaWtlOiAke2ZlZWxzTGlrZVZhbHVlfcKwJHtcbiAgICAgIHVzZUNlbHNpdXNUZW1wID8gXCJDXCIgOiBcIkZcIlxuICAgIH1gO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQoZmVlbHNMaWtlUGFyYSk7XG5cbiAgICBjb25zdCBodW1pZGl0eVBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBodW1pZGl0eVBhcmEudGV4dENvbnRlbnQgPSBgSHVtaWRpdHk6ICR7aHVtaWRpdHl9JWA7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZChodW1pZGl0eVBhcmEpO1xuXG4gICAgY29uc3Qgd2luZFNwZWVkUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHdpbmRTcGVlZFBhcmEudGV4dENvbnRlbnQgPSBgV2luZCBTcGVlZDogJHt3aW5kU3BlZWR9IGttL2hgO1xuICAgIGRhdGFDb250YWluZXIuYXBwZW5kQ2hpbGQod2luZFNwZWVkUGFyYSk7XG5cbiAgICBjb25zdCB3aW5kRGlyZWN0aW9uUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHdpbmREaXJlY3Rpb25QYXJhLnRleHRDb250ZW50ID0gYFdpbmQgRGlyZWN0aW9uOiAke3dpbmREaXJlY3Rpb259YDtcbiAgICBkYXRhQ29udGFpbmVyLmFwcGVuZENoaWxkKHdpbmREaXJlY3Rpb25QYXJhKTtcblxuICAgIGNvbnN0IHZpc2liaWxpdHlQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgdmlzaWJpbGl0eVBhcmEudGV4dENvbnRlbnQgPSBgVmlzaWJpbGl0eTogJHt2aXNpYmlsaXR5fSBrbWA7XG4gICAgZGF0YUNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aXNpYmlsaXR5UGFyYSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHNlYXJjaElucHV0LnZhbHVlO1xuICAgIHRyeSB7XG4gICAgICAvLyBSZW5kZXIgZGF0YVxuICAgICAgd2VhdGhlckRhdGEgPSBhd2FpdCBXZWF0aGVyQVBJLmdldFdlYXRoZXJCeUxvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICAgIHJlbmRlckRhdGEodHJ1ZSk7XG4gICAgICAvLyBDaGFuZ2UgYmFja2dyb3VuZFxuICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlVXJsID0gVXRpbHMuc3dpdGNoQmFja2dyb3VuZCh3ZWF0aGVyRGF0YSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtiYWNrZ3JvdW5kSW1hZ2VVcmx9KWA7XG4gICAgICAvLyBDaGFuZ2UgZ2lmXG4gICAgICBjb25zdCBnaWZJZCA9IGF3YWl0IFV0aWxzLnNldEdpZklkKHdlYXRoZXJEYXRhKTtcbiAgICAgIGNvbnN0IGdpZlVybCA9IGF3YWl0IEdpcGh5QVBJLmdldEdpZkJ5SWQoZ2lmSWQpO1xuICAgICAgd2VhdGhlckdpZi5zcmMgPSBnaWZVcmw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvY2N1cnJlZCBkdXJpbmcgd2VhdGhlciByZXRyaWV2YWw6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2V0RGVmYXVsdENpdHkgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdENpdHkgPSBcIm5ldyB5b3JrXCI7XG4gICAgdHJ5IHtcbiAgICAgIHdlYXRoZXJEYXRhID0gYXdhaXQgV2VhdGhlckFQSS5nZXRXZWF0aGVyQnlMb2NhdGlvbihkZWZhdWx0Q2l0eSk7XG4gICAgICByZW5kZXJEYXRhKHRydWUpO1xuICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlVXJsID0gVXRpbHMuc3dpdGNoQmFja2dyb3VuZCh3ZWF0aGVyRGF0YSk7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtiYWNrZ3JvdW5kSW1hZ2VVcmx9KWA7XG4gICAgICBjb25zdCBnaWZJZCA9IGF3YWl0IFV0aWxzLnNldEdpZklkKHdlYXRoZXJEYXRhKTtcbiAgICAgIGNvbnN0IGdpZlVybCA9IGF3YWl0IEdpcGh5QVBJLmdldEdpZkJ5SWQoZ2lmSWQpO1xuICAgICAgd2VhdGhlckdpZi5zcmMgPSBnaWZVcmw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvY2N1cnJlZCBkdXJpbmcgd2VhdGhlciByZXRyaWV2YWw6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICBzZWFyY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZVNlYXJjaCk7XG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgaGFuZGxlU2VhcmNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdXNlQ2Vsc2l1c1RlbXAgPSAhdXNlQ2Vsc2l1c1RlbXA7XG4gICAgICB1c2VDZWxzaXVzRmVlbHNMaWtlID0gIXVzZUNlbHNpdXNGZWVsc0xpa2U7XG4gICAgICByZW5kZXJEYXRhKCk7XG4gICAgICB0b2dnbGVCdXR0b24udGV4dENvbnRlbnQgPSB1c2VDZWxzaXVzVGVtcCA/IFwiQ2Vsc2l1c1wiIDogXCJGYWhyZW5oZWl0XCI7XG4gICAgfSk7XG5cbiAgICBzZXREZWZhdWx0Q2l0eSgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyRGF0YSxcbiAgICBpbml0LFxuICB9O1xufSkoKTtcblxuRE9NU3R1ZmYuaW5pdCgpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2Nyk7XG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJXZWF0aGVyQVBJIiwiZ2V0V2VhdGhlckJ5TG9jYXRpb24iLCJhc3luYyIsImxvY2F0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJvayIsImRhdGEiLCJqc29uIiwiZmluYWxEYXRhIiwiY2l0eSIsIm5hbWUiLCJsb2NhbFRpbWUiLCJsb2NhbHRpbWUiLCJ3ZWF0aGVySWNvbiIsImN1cnJlbnQiLCJjb25kaXRpb24iLCJpY29uIiwid2VhdGhlciIsInRleHQiLCJ0ZW1wZXJhdHVyZUMiLCJ0ZW1wX2MiLCJ0ZW1wZXJhdHVyZUYiLCJ0ZW1wX2YiLCJmZWVsc0xpa2VDIiwiZmVlbHNsaWtlX2MiLCJmZWVsc0xpa2VGIiwiZmVlbHNsaWtlX2YiLCJodW1pZGl0eSIsIndpbmRTcGVlZCIsIndpbmRfa3BoIiwid2luZERpcmVjdGlvbiIsIndpbmRfZGlyIiwidmlzaWJpbGl0eSIsInZpc19rbSIsImlzRGF5IiwiaXNfZGF5IiwicHJvY2Vzc0RhdGEiLCJFcnJvciIsImVycm9yIiwibWVzc2FnZSIsIkdpcGh5QVBJIiwiZ2V0R2lmQnlJZCIsImdpZklkIiwidXJsIiwiaW1hZ2VzIiwib3JpZ2luYWwiLCJVdGlscyIsInN3aXRjaEJhY2tncm91bmQiLCJiYWNrZ3JvdW5kVXJsIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInNldEdpZklkIiwic2VhcmNoSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWFyY2hCdXR0b24iLCJ0b2dnbGVCdXR0b24iLCJkYXRhQ29udGFpbmVyIiwid2VhdGhlckdpZiIsIndlYXRoZXJEYXRhIiwidXNlQ2Vsc2l1c1RlbXAiLCJ1c2VDZWxzaXVzRmVlbHNMaWtlIiwicmVuZGVyRGF0YSIsImZpcnN0Q2hpbGQiLCJyZW1vdmUiLCJoZWFkaW5nIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJsb2NhbFRpbWVQYXJhIiwidGltZSIsInNwbGl0Iiwid2VhdGhlckljb25JbWciLCJzcmMiLCJhbHQiLCJ3ZWF0aGVyUGFyYSIsInRlbXBlcmF0dXJlUGFyYSIsInRlbXBlcmF0dXJlVmFsdWUiLCJmZWVsc0xpa2VQYXJhIiwiZmVlbHNMaWtlVmFsdWUiLCJodW1pZGl0eVBhcmEiLCJ3aW5kU3BlZWRQYXJhIiwid2luZERpcmVjdGlvblBhcmEiLCJ2aXNpYmlsaXR5UGFyYSIsImhhbmRsZVNlYXJjaCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsImJhY2tncm91bmRJbWFnZVVybCIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImdpZlVybCIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwia2V5Q29kZSIsInNldERlZmF1bHRDaXR5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==